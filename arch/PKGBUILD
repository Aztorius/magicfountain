# Maintainer: William Bonnaventure <william.bonnaventure@gmail.com>
# Maintainer: ZeroDot1 <zerodot1@bk.ru>
pkgname=magicfountain
pkgver=1.0.0alpha5
pkgrel=1
pkgdesc="A Fountain syntax editor and viewer."
arch=('i686', 'x86_64')
url="https://github.com/Aztorius/magicfountain"
license=('GPL3')
depends=('qt5-base')
makedepends=('qt5-base' 'git')

source=("https://github.com/Aztorius/magicfountain/archive/${pkgver}.tar.gz")
md5sums=('3c2252c96d60dbdedeb3e6a291ce545d')

build() {
	cd ${srcdir}/${pkgname}-${pkgver}
	qmake PREFIX='/usr' LIBDIR='/usr/lib' magicfountain.pro
        make
}

package() {
	cd ${srcdir}/${pkgname}-${pkgver}
	make INSTALL_ROOT="$pkgdir/" install
	mkdir -p "$pkgdir/usr/share/applications/"
	cp ${srcdir}/../../magicfountain.desktop "$pkgdir/usr/share/applications/"
	mkdir -p "$pkgdir/usr/share/icons/hicolor/48x48/apps/"
	cp ${srcdir}/../../magicfountain.png "$pkgdir/usr/share/icons/hicolor/48x48/apps/"
}
